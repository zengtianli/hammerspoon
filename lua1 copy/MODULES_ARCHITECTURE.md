# Hammerspoon Lua æ¨¡å—æŠ€æœ¯æ¶æ„æ–‡æ¡£

## ğŸ—ï¸ æ•´ä½“æ¶æ„æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜ Hammerspoon lua1 ç›®å½•ä¸‹å„ä¸ªæ¨¡å—çš„æŠ€æœ¯å®ç°ã€APIè°ƒç”¨å…³ç³»å’Œä»£ç æ¶æ„ã€‚

### æ¨¡å—åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·äº¤äº’å±‚ (UI Layer)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  scripts_hotkeys.lua (ä¸»çƒ­é”®é…ç½®) | clipboard_hotkeys.lua   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ä¸šåŠ¡é€»è¾‘å±‚ (Business Logic)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  scripts_caller.lua | app_controls.lua | clipboard_utils.lua â”‚
â”‚  script_runner.lua                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ç³»ç»Ÿè°ƒç”¨å±‚ (System Layer)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  hs.task | hs.application | hs.osascript | hs.pasteboard   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    å¤–éƒ¨èµ„æºå±‚ (External Layer)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  scripts_ray/* | ç³»ç»Ÿåº”ç”¨ | æ–‡ä»¶ç³»ç»Ÿ | å‰ªè´´æ¿              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“± æ¨¡å—è¯¦ç»†æŠ€æœ¯åˆ†æ

### 1. scripts_caller.lua - è„šæœ¬è°ƒç”¨å°è£…æ¨¡å—

#### æ ¸å¿ƒé…ç½®ç»“æ„
```lua
local config = {
    python_path = "/Users/tianli/miniforge3/bin/python3",
    bash_path = "/bin/bash",
    scripts_dir = hs.configdir .. "/scripts_ray",
    
    scripts = {
        -- è„šæœ¬æ˜ å°„è¡¨ (25ä¸ªè„šæœ¬)
        convert_csv_to_txt = "convert_csv_to_txt.py",
        -- ... å…¶ä»–è„šæœ¬æ˜ å°„
    }
}
```

#### æ ¸å¿ƒå‡½æ•°å®ç°

**execute_script() - é€šç”¨è„šæœ¬æ‰§è¡Œå™¨**
```lua
-- åŠŸèƒ½ï¼šå¼‚æ­¥æ‰§è¡Œå¤–éƒ¨è„šæœ¬ï¼Œæ”¯æŒå›è°ƒ
-- å‚æ•°ï¼šscript_name, args, callback
-- è°ƒç”¨ï¼šhs.task.new() + task:setWorkingDirectory() + task:start()
-- ç‰¹ç‚¹ï¼šè‡ªåŠ¨è¯†åˆ«è„šæœ¬ç±»å‹(.py/.sh)ï¼Œè®¾ç½®å·¥ä½œç›®å½•ï¼Œå¼‚æ­¥æ‰§è¡Œ
```

**get_selected_files() - Finderæ–‡ä»¶è·å–**
```lua
-- åŠŸèƒ½ï¼šè·å–Finderä¸­é€‰ä¸­çš„æ–‡ä»¶åˆ—è¡¨
-- å®ç°ï¼šhs.osascript.applescript() + AppleScript
-- è¿”å›ï¼šæ–‡ä»¶è·¯å¾„æ•°ç»„
-- å®¹é”™ï¼šå¤±è´¥æ—¶è¿”å›ç©ºæ•°ç»„
```

#### APIæ¨¡å—åˆ’åˆ†

1. **convert æ¨¡å—** - æ–‡ä»¶è½¬æ¢
   - csv_to_txt/xlsx, txt_to_csv/xlsx, xlsx_to_csv/txt
   - docx_to_md, pptx_to_md, office_batch

2. **extract æ¨¡å—** - å†…å®¹æå–  
   - images, tables, text_tokens

3. **file æ¨¡å—** - æ–‡ä»¶ç®¡ç†
   - move_up_level

4. **merge æ¨¡å—** - æ–‡ä»¶åˆå¹¶
   - csv_files, markdown_files

5. **manage æ¨¡å—** - ç³»ç»Ÿç®¡ç†
   - launch_apps, pip_packages

### 2. app_controls.lua - åº”ç”¨æ§åˆ¶æ¨¡å—

#### æ ¸å¿ƒå‡½æ•°æ¶æ„

**get_finder_current_dir() - ç›®å½•è·å–**
```lua
-- å®ç°ï¼šAppleScript + hs.osascript.applescript()
-- é€»è¾‘ï¼šæ£€æŸ¥selection -> folder/file container -> insertion location
-- å®¹é”™ï¼šfallback to HOME directory
```

**run_in_ghostty/terminal() - ç»ˆç«¯å‘½ä»¤æ‰§è¡Œ**
```lua
-- æµç¨‹ï¼šæ£€æŸ¥åº”ç”¨çŠ¶æ€ -> æ¿€æ´»/å¯åŠ¨åº”ç”¨ -> åˆ›å»ºæ–°æ ‡ç­¾ -> æ‰§è¡Œå‘½ä»¤
-- æŠ€æœ¯ï¼šhs.application API + hs.eventtap.keyStroke() + å‰ªè´´æ¿æ“ä½œ
-- æ—¶åºï¼šä½¿ç”¨hs.timer.doAfter()è¿›è¡Œæ—¶åºæ§åˆ¶
```

#### åº”ç”¨å¯åŠ¨ç­–ç•¥

1. **Ghostty/Terminal**: åŸç”Ÿåº”ç”¨æ§åˆ¶
   - hs.application.find() -> activate() -> keyStroke()

2. **VS Code/Cursor**: å‘½ä»¤è¡Œå¯åŠ¨
   - hs.task.new() + å¤šè·¯å¾„å°è¯• (/usr/local/bin, /opt/homebrew/bin)

3. **Nvim**: ç»„åˆå¯åŠ¨
   - Ghosttyå¯åŠ¨ + cdå‘½ä»¤ + nvimå‘½ä»¤ç»„åˆ

#### å¯¼å‡ºçš„å·¥å…·å‡½æ•°
```lua
app_controls.utils = {
    get_finder_current_dir,    -- ç›®å½•è·å–
    get_selected_single_file,  -- å•æ–‡ä»¶è·å–  
    run_in_ghostty,           -- Ghosttyæ‰§è¡Œ
    run_in_terminal           -- Terminalæ‰§è¡Œ
}
```

### 3. clipboard_utils.lua - å‰ªè´´æ¿å·¥å…·æ¨¡å—

#### æ ¸å¿ƒæ•°æ®æµ

**æ–‡ä»¶é€‰æ‹© -> å†…å®¹å¤„ç† -> å‰ªè´´æ¿æ“ä½œ**

#### å…³é”®å‡½æ•°å®ç°

**get_selected_multiple_files() - å¤šæ–‡ä»¶è·å–**
```lua
-- AppleScriptå®ç°ï¼šselection as list -> repeat loop -> POSIX path
-- æ•°æ®å¤„ç†ï¼šé€—å·åˆ†å‰² + trimå¤„ç†
-- è¿”å›ï¼šæ–‡ä»¶è·¯å¾„æ•°ç»„
```

**copy_filenames() - æ–‡ä»¶åå¤åˆ¶**
```lua
-- æµç¨‹ï¼šè·å–é€‰ä¸­æ–‡ä»¶ -> æå–displayName -> æ¢è¡Œç¬¦è¿æ¥ -> å‰ªè´´æ¿
-- APIï¼šhs.fs.displayName() + hs.pasteboard.setContents()
```

**copy_names_and_content() - æ–‡ä»¶å†…å®¹å¤åˆ¶**
```lua
-- æµç¨‹ï¼šæ–‡ä»¶éªŒè¯ -> å†…å®¹è¯»å– -> æ ¼å¼åŒ– -> å‰ªè´´æ¿
-- æŠ€æœ¯ï¼šhs.fs.attributes() + io.open() + æ–‡æœ¬å¤„ç†
-- æ ¼å¼ï¼šæ–‡ä»¶å + å†…å®¹ + åˆ†éš”ç¬¦
```

**paste_to_finder() - æ–‡ä»¶ç²˜è´´**
```lua
-- æ£€æµ‹ï¼šdetect_clipboard_type() -> contentTypes()åˆ†æ
-- æ‰§è¡Œï¼špaste_with_applescript() -> Finderæ¿€æ´» + keystroke
-- æ”¯æŒï¼šä»…æ–‡ä»¶ç±»å‹ç²˜è´´ï¼Œè‡ªåŠ¨ç±»å‹æ£€æµ‹
```

#### å‰ªè´´æ¿ç±»å‹æ£€æµ‹æœºåˆ¶
```lua
function detect_clipboard_type()
    -- æ£€æŸ¥contentTypesä¸­çš„æ–‡ä»¶ç›¸å…³ç±»å‹
    -- "public.file-url", "public.url", "CorePasteboardFlavorType 0x6675726C"
    -- è¿”å›ï¼š"files", "text", "empty"
end
```

### 4. script_runner.lua - è„šæœ¬è¿è¡Œå™¨æ¨¡å—

#### é…ç½®ä¸è·¯å¾„ç®¡ç†
```lua
local config = {
    python_path = "/Users/tianli/miniforge3/bin/python3",
    miniforge_bin = "/Users/tianli/miniforge3/bin", 
    temp_dir = os.getenv("HOME") .. "/.hammerspoon_temp"
}
```

#### æ ¸å¿ƒæ‰§è¡Œæœºåˆ¶

**run_single() - å•è„šæœ¬æ‰§è¡Œ**
```lua
-- éªŒè¯ï¼šis_executable_script() æ£€æŸ¥æ–‡ä»¶æ‰©å±•å
-- æƒé™ï¼šmake_executable() è®¾ç½®shellè„šæœ¬æ‰§è¡Œæƒé™  
-- æ‰§è¡Œï¼šhs.task.new() + å¼‚æ­¥å›è°ƒ
-- ç›‘æ§ï¼šexit_codeå¤„ç† + stdout/stderrè¾“å‡º
```

**run_parallel() - å¹¶è¡Œæ‰§è¡Œ**
```lua
-- ç­›é€‰ï¼šè¿‡æ»¤å¯æ‰§è¡Œè„šæœ¬
-- è®¡æ•°ï¼šcompleted_count/success_countç»Ÿè®¡
-- å›è°ƒï¼šon_script_complete()ç»Ÿä¸€å¤„ç†ç»“æœ
-- è¾“å‡ºï¼šè¯¦ç»†çš„æ‰§è¡ŒæŠ¥å‘Šå’Œæ±‡æ€»
```

**run_python_here() - å³æ—¶Pythonæ‰§è¡Œ**
```lua
-- äº¤äº’ï¼šhs.dialog.textPrompt()è·å–ä»£ç 
-- ä¸´æ—¶ï¼šåˆ›å»ºtemp_script.pyæ–‡ä»¶
-- æ‰§è¡Œï¼šåœ¨å½“å‰Finderç›®å½•æ‰§è¡Œ
-- æ¸…ç†ï¼šè‡ªåŠ¨åˆ é™¤ä¸´æ—¶æ–‡ä»¶
```

#### è„šæœ¬è¯†åˆ«ä¸æ‰§è¡Œç­–ç•¥
```lua
-- .pyæ–‡ä»¶ï¼špython_path + script_path
-- .shæ–‡ä»¶ï¼š/bin/bash + script_path + chmod +x
-- å·¥ä½œç›®å½•ï¼šè„šæœ¬æ‰€åœ¨ç›®å½•æˆ–Finderå½“å‰ç›®å½•
```

### 5. clipboard_hotkeys.lua - å‰ªè´´æ¿çƒ­é”®é…ç½®

#### ç®€å•çš„çƒ­é”®ç»‘å®šå±‚
```lua
-- è®¾è®¡ï¼šè–„å°è£…å±‚ï¼Œç›´æ¥è°ƒç”¨clipboard_utilså‡½æ•°
-- çƒ­é”®ï¼š3ä¸ªæ ¸å¿ƒå¿«æ·é”®ç»‘å®š
-- æ¨¡å¼ï¼šhs.hotkey.bind() + å‡½æ•°å›è°ƒ
```

#### çƒ­é”®æ˜ å°„è¡¨
```lua
{ "cmd", "ctrl", "shift" }, "n" -> clipboard_utils.copy_filenames()
{ "cmd", "ctrl", "shift" }, "c" -> clipboard_utils.copy_names_and_content()  
{ "ctrl", "alt" }, "v" -> clipboard_utils.paste_to_finder()
```

### 6. scripts_hotkeys.lua - ä¸»çƒ­é”®é…ç½®ä¸­å¿ƒ

#### æ¨¡å—ä¾èµ–ç®¡ç†
```lua
local scripts = require("lua1.scripts_caller")
local apps = require("lua1.app_controls")  
local runner = require("lua1.script_runner")
```

#### çƒ­é”®ç»„ç»‡æ¶æ„

**çƒ­é”®åˆ†ç»„è®¾è®¡**
```lua
convert_hotkeys = {}     -- æ–‡ä»¶è½¬æ¢ (âŒ˜âŒ¥â‡§ + é”®)
extract_hotkeys = {}     -- å†…å®¹æå– (âŒ˜âŒƒâ‡§ + é”®)  
file_hotkeys = {}        -- æ–‡ä»¶ç®¡ç† (âŒ˜âŒƒâŒ¥ + é”®)
app_hotkeys = {}         -- åº”ç”¨æ§åˆ¶ (âŒ˜âŒƒâ‡§ + é”®)
script_hotkeys = {}      -- è„šæœ¬è¿è¡Œ (âŒ˜âŒƒâ‡§ + é”®)
```

**æ™ºèƒ½ä¸Šä¸‹æ–‡èœå•å®ç°**
```lua
function show_context_menu()
    -- 1. è·å–é€‰ä¸­æ–‡ä»¶ï¼šscripts.utils.get_selected_files()
    -- 2. åˆ†ææ–‡ä»¶ç±»å‹ï¼šæ–‡ä»¶æ‰©å±•åæå–
    -- 3. æ„å»ºèœå•é¡¹ï¼šæ ¹æ®ç±»å‹æ·»åŠ ç›¸åº”é€‰é¡¹
    -- 4. æ˜¾ç¤ºèœå•ï¼šhs.menubar + popupMenu()
end
```

#### åº”ç”¨è‡ªåŠ¨åŒ–æœºåˆ¶
```lua
function setup_app_automation()
    -- hs.application.watcherç›‘æ§åº”ç”¨åˆ‡æ¢
    -- Finderæ¿€æ´»æ—¶é¢„åŠ è½½æ–‡ä»¶ä¿¡æ¯
    -- å¯æ‰©å±•ä¸ºæ›´å¤šåº”ç”¨çŠ¶æ€æ„ŸçŸ¥
end
```

## ğŸ”— æ¨¡å—é—´è°ƒç”¨å…³ç³»å›¾

### æ•°æ®æµå‘åˆ†æ

```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant SH as scripts_hotkeys
    participant SC as scripts_caller  
    participant AC as app_controls
    participant CU as clipboard_utils
    participant SR as script_runner
    participant SYS as ç³»ç»ŸAPI

    U->>SH: æŒ‰ä¸‹çƒ­é”®
    SH->>SC: è°ƒç”¨è½¬æ¢å‡½æ•°
    SC->>SYS: hs.task.new()
    SYS->>SC: æ‰§è¡Œç»“æœå›è°ƒ
    SC->>U: æ˜¾ç¤ºé€šçŸ¥

    U->>SH: åº”ç”¨æ§åˆ¶çƒ­é”®
    SH->>AC: è°ƒç”¨åº”ç”¨å‡½æ•°
    AC->>SYS: hs.osascript/hs.application
    AC->>U: å¯åŠ¨åº”ç”¨

    U->>CU: å‰ªè´´æ¿æ“ä½œ
    CU->>SYS: hs.pasteboardæ“ä½œ
    CU->>U: å‰ªè´´æ¿æ›´æ–°

    U->>SR: è„šæœ¬è¿è¡Œ
    SR->>SYS: hs.taskæ‰§è¡Œè„šæœ¬
    SR->>U: æ‰§è¡Œç»“æœ
```

### APIä¾èµ–çŸ©é˜µ

| æ¨¡å— | hs.task | hs.application | hs.osascript | hs.pasteboard | hs.hotkey |
|------|---------|----------------|--------------|---------------|-----------|
| scripts_caller | âœ… | âŒ | âœ… | âŒ | âŒ |
| app_controls | âœ… | âœ… | âœ… | âœ… | âŒ |
| clipboard_utils | âŒ | âŒ | âœ… | âœ… | âŒ |
| script_runner | âœ… | âŒ | âœ… | âŒ | âŒ |
| scripts_hotkeys | âŒ | âœ… | âŒ | âŒ | âœ… |
| clipboard_hotkeys | âŒ | âŒ | âŒ | âŒ | âœ… |

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### å¼‚æ­¥æ‰§è¡Œæ¨¡å¼

æ‰€æœ‰è€—æ—¶æ“ä½œéƒ½é‡‡ç”¨å¼‚æ­¥æ¨¡å¼ï¼š
```lua
-- hs.task.new(command, callback, arguments)
-- é¿å…é˜»å¡ä¸»çº¿ç¨‹
-- æ”¯æŒè¿›åº¦å›è°ƒå’Œé”™è¯¯å¤„ç†
```

### é”™è¯¯å¤„ç†ç­–ç•¥

1. **è·¯å¾„å®¹é”™**ï¼šå¤šè·¯å¾„å°è¯• + fallbackæœºåˆ¶
2. **æ–‡ä»¶éªŒè¯**ï¼šhs.fs.attributes()æ£€æŸ¥æ–‡ä»¶å­˜åœ¨æ€§
3. **ç±»å‹æ£€æŸ¥**ï¼šæ‰©å±•åå’ŒMIMEç±»å‹åŒé‡éªŒè¯
4. **ç”¨æˆ·åé¦ˆ**ï¼šhs.alert + hs.notifyåŒé‡é€šçŸ¥

### æ€§èƒ½ä¼˜åŒ–æªæ–½

1. **å»¶è¿ŸåŠ è½½**ï¼šrequire()æŒ‰éœ€åŠ è½½æ¨¡å—
2. **ç¼“å­˜æœºåˆ¶**ï¼šé¿å…é‡å¤çš„AppleScriptè°ƒç”¨
3. **æ‰¹é‡å¤„ç†**ï¼šå¹¶è¡Œæ‰§è¡Œå‡å°‘æ€»æ—¶é—´
4. **èµ„æºæ¸…ç†**ï¼šä¸´æ—¶æ–‡ä»¶è‡ªåŠ¨æ¸…ç†

### æ‰©å±•æ¥å£è®¾è®¡

æ¯ä¸ªæ¨¡å—éƒ½æš´éœ²å·¥å…·å‡½æ•°ä¾›å…¶ä»–æ¨¡å—è°ƒç”¨ï¼š
```lua
module.utils = {
    -- é€šç”¨å‡½æ•°å¯¼å‡º
    -- ä¾¿äºæ¨¡å—é—´åä½œå’ŒåŠŸèƒ½å¤ç”¨
}
```

## ğŸš€ éƒ¨ç½²ä¸é…ç½®

### ç¯å¢ƒä¾èµ–

1. **Hammerspoon**: macOSè‡ªåŠ¨åŒ–æ¡†æ¶
2. **Pythonç¯å¢ƒ**: miniforge3 + å¿…è¦åŒ…
3. **scripts_ray**: å¤–éƒ¨è„šæœ¬é›†åˆ
4. **ç³»ç»Ÿåº”ç”¨**: Ghostty, Cursor, VS Codeç­‰

### é…ç½®æ£€æŸ¥æ¸…å•

- [ ] Pythonè·¯å¾„æ­£ç¡® (`/Users/tianli/miniforge3/bin/python3`)
- [ ] scripts_rayç›®å½•å­˜åœ¨ (`hs.configdir .. "/scripts_ray"`)
- [ ] ä¸´æ—¶ç›®å½•æƒé™ (`~/.hammerspoon_temp`)
- [ ] ç›®æ ‡åº”ç”¨å·²å®‰è£… (Ghostty, Cursorç­‰)
- [ ] Hammerspoonè¾…åŠ©åŠŸèƒ½æƒé™å·²æˆäºˆ

### æ¨¡å—åŠ è½½é¡ºåº

```lua
1. clipboard_utils.lua      -- åŸºç¡€å·¥å…·
2. clipboard_hotkeys.lua    -- å‰ªè´´æ¿çƒ­é”®
3. app_controls.lua         -- åº”ç”¨æ§åˆ¶
4. script_runner.lua        -- è„šæœ¬è¿è¡Œå™¨
5. scripts_caller.lua       -- è„šæœ¬è°ƒç”¨
6. scripts_hotkeys.lua      -- ä¸»é…ç½®(æœ€ååŠ è½½)
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### å“åº”æ—¶é—´ç›®æ ‡

- çƒ­é”®è§¦å‘å“åº”: < 50ms
- æ–‡ä»¶è½¬æ¢å¯åŠ¨: < 200ms  
- åº”ç”¨å¯åŠ¨å“åº”: < 500ms
- å‰ªè´´æ¿æ“ä½œ: < 100ms

### èµ„æºæ¶ˆè€—

- å†…å­˜å ç”¨: ~10MB (æ‰€æœ‰æ¨¡å—åŠ è½½å)
- CPUä½¿ç”¨: å¹³æ—¶ ~0%, æ‰§è¡Œæ—¶æ ¹æ®ä»»åŠ¡è€Œå®š
- ç£ç›˜ç©ºé—´: ä¸´æ—¶æ–‡ä»¶ < 100MB

## ğŸ” æ•…éšœè¯Šæ–­

### å¸¸è§é—®é¢˜è§£å†³

1. **æ¨¡å—åŠ è½½å¤±è´¥**
   ```lua
   -- æ£€æŸ¥requireè·¯å¾„
   -- ç¡®è®¤æ–‡ä»¶å­˜åœ¨æ€§
   -- æŸ¥çœ‹Hammerspoonæ§åˆ¶å°é”™è¯¯
   ```

2. **è„šæœ¬æ‰§è¡Œå¤±è´¥**
   ```lua
   -- éªŒè¯Pythonè·¯å¾„
   -- æ£€æŸ¥scripts_rayç›®å½•
   -- ç¡®è®¤è„šæœ¬æ‰§è¡Œæƒé™
   ```

3. **åº”ç”¨æ§åˆ¶æ— æ•ˆ**
   ```lua
   -- æ£€æŸ¥åº”ç”¨æ˜¯å¦å®‰è£…
   -- éªŒè¯å‘½ä»¤è¡Œå·¥å…·è·¯å¾„
   -- ç¡®è®¤è¾…åŠ©åŠŸèƒ½æƒé™
   ```

### è°ƒè¯•æŠ€å·§

1. **å¯ç”¨è¯¦ç»†æ—¥å¿—**ï¼šåœ¨å„æ¨¡å—æ·»åŠ print()è¯­å¥
2. **æ§åˆ¶å°ç›‘æ§**ï¼šå®æ—¶æŸ¥çœ‹Hammerspoonæ§åˆ¶å°
3. **åˆ†æ­¥æµ‹è¯•**ï¼šé€ä¸ªæ¨¡å—æµ‹è¯•åŠŸèƒ½
4. **è·¯å¾„éªŒè¯**ï¼šæ‰‹åŠ¨éªŒè¯æ‰€æœ‰é…ç½®è·¯å¾„

è¿™ä¸ªæŠ€æœ¯æ¶æ„ä¸ºHammerspoonè‡ªåŠ¨åŒ–æä¾›äº†å¯é ã€å¯æ‰©å±•çš„åŸºç¡€ï¼ğŸš€ 