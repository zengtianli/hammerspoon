# AI 代理项目分析与功能梳理指南

## 1. 核心目标

本指南旨在为 AI 代理提供一个标准化的操作流程 (SOP)，用于系统性地分析任何软件项目，并最终生成一份全面、清晰、高质量的**功能汇总报告**（例如 `项目名-功能汇总.md`）。

最终的报告应达到与 `Hammerspoon-功能汇总.md` 类似的深度和广度，成为项目的重要文档资产。

## 2. 标准化分析流程

### 第一阶段：项目初探与信息采集

1. **识别技术栈**: 确定项目使用的主要语言、框架、库和构建工具（例如 `Python/Django`, `JavaScript/React`, `Go`, `Lua/Hammerspoon`）。
2. **理解项目入口**: 找到项目的主入口文件（例如 `main.go`, `init.lua`, `src/index.js`, `app.py`）。
3. **扫描目录结构**: 快速浏览整个项目的目录和文件结构，对代码组织方式形成初步印象。
4. **阅读现有文档**: 仔细阅读 `README.md`、`CONTRIBUTING.md` 或任何 `docs/` 目录下的文档，获取开发者提供的第一手信息。

### 第二阶段：架构识别与功能分解

1. **识别核心模块**: 根据目录结构和代码，识别出项目的核心功能模块（例如 `用户认证`, `数据处理`, `API 接口`, `UI 组件`）。
2. **追踪配置与逻辑**: 分析配置文件（例如 `config/`, `.env`），理解其如何影响程序行为。追踪核心逻辑，理解数据流和控制流。
3. **功能点归纳**: 将识别出的功能点进行分类和归纳。例如，在 Hammerspoon 项目中，这可能包括 `应用控制`、`快捷键`、`脚本运行`、`宏录制` 等。

### 第三阶段：文档撰写与呈现

1. **创建功能汇总文件**: 新建一个 `项目名-功能汇总.md` 文件。
2. **结构化呈现**: 使用清晰的 Markdown 结构来组织文档。
    - **目录先行**: 在文档开头提供一个清晰的目录。
    - **分章节介绍**: 每个核心功能模块都应作为一个独立的二级或三级标题。
    - **善用表格**: 对于别名、快捷键、环境变量等列表式信息，优先使用表格进行展示，使其一目了然。
    - **代码块示例**: 对关键函数或配置，附上简洁的代码块示例并加以说明。
3. **持续迭代**: 文档不是一次性的，随着对项目理解的加深，应主动返回并更新文档，确保其准确性。

## 3. AI 代理行为准则

- **主动性**: 不要等待用户提供所有信息。主动使用工具（`ls`, `grep`, `find`）探索项目。
- **系统性**: 遵循上述流程，避免无序和零散的分析。
- **准确性**: 确保文档中的所有信息都来自于对代码的实际分析，而不是猜测。
- **沟通性**: 在分析过程中，可以向用户阶段性地汇报发现，以确认理解是否正确。
